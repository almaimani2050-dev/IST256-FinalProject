<!DOCTYPE html>
<html>

<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
   <title>Read Later</title>
</head>
<link rel="stylesheet" href="readLater.css">
<nav class="navbar navbar-dark bg-dark px-4">
   <div class="container-fluid d-flex justify-content-between">
      <a class="navbar-brand text-white" href="index.html">PSU Magazine</a>
      <div>
         <a class="nav-link d-inline text-white" href="index.html">Home |</a>
         <a class="nav-link d-inline text-white" href="userSignUp.html">Subscribe |</a>
         <a class="nav-link d-inline text-white" href="jQSearcher.html">Search JSON |</a>
         <a class="nav-link d-inline text-white" href="readLater.html">Read Later |</a>
         <a class="nav-link d-inline text-white" href="articlePublication.html">Filter |</a>
         <a class="nav-link d-inline text-white" href="submissionPage.html">Submit an Article |</a>
         <a class="nav-link d-inline text-white" href="editorialPage.html">Edit Request Form</a></div> </div>
</nav>
<body>
   <div class="searchdivbtn">
   <h1 class="headerSpace">Read Later: </h1>
   <input type="text" id="searcherBar" placeholder="Search your list here...">
   <button id="search">Search Read LaterðŸ›’</button>
   </div>
   <p id="listResult"></p>
   <p id="resultAjax"></p>
   
   
</body>
<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script src='javascript.js'></script>
<script>
   $(document).ready(function() {
      const readLaterSaved = JSON.parse(localStorage.getItem('readLaterSaved')) || [];
      const $listResult = $('#listResult');
      const $searcherBar = $('#searcherBar');
      const $search = $('#search');
      
      
      function returnList(resultOfSearch) {
      $listResult.empty();
      if (resultOfSearch.length === 0) {
      $listResult.append('<p>Nothing saved</p>');
      return;
      }
      resultOfSearch.forEach((article) => {
      $listResult.append(
      `
      <h2>${article.title}</h2><br>
      <img src="${article.content}" style="width: 150px; height: 110px;"><br>
      <a href="${article.link}">Read Here</a>
      `
      );
      });
      }
      returnList(readLaterSaved);
      
      $search.on('click', function () {
      const searchResult = $searcherBar.val().toLowerCase();
      const filtered = readLaterSaved.filter(article =>
      article.title.toLowerCase().includes(searchResult));
      returnList(filtered);
      });
   });

</script>
</html>